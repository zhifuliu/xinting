<!DOCTYPE html>
<html lang="zh-cn" xmlns="http://www.w3.org/1999/html">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no">
    <meta name="format-detection" content="email=no">
    <title>九九乘法表</title>
    <link href="//res.winbaoxian.com/iconfont/1484105370458/css/symbols.css" rel="stylesheet">
    <!-- build:css -->
    <link rel="stylesheet" type="text/css" href="./bower_modules/animate.css/animate.css" />
    <link rel="stylesheet" type="text/css" href="./css/styles.css" />
    <!-- endbuild -->
</head>

<body>
    <section id="app">
        <!--九九乘法表 -->
        <div class="jiujiu">
            <div class="line" v-for="i in jiu">
                <span v-for="j in jiu" v-if="j <= i">{{i}}×{{j}}={{i * j}}</span>
            </div>
        </div>
        <!--计算器 -->
        <div class="calculator">
            <!--计算结果 -->
            <p class="result">
                <span class="calculator_expression">{{calculatorObj.operationSentence}}</span>
                <span class="calculator_result">{{calculatorObj.result}}</span>
            </p>
            <!--键盘布局 -->
            <div class="line">
                <span @click="operation('(', 'sumbol')">(</span>
                <span @click="operation(')', 'sumbol')">)</span>
                <span @click="operation('%', 'operation')">%</span>
                <span @click="operation('AC', 'operation')">AC</span>
            </div>
            <div class="line">
                <span @click="operation(7, 'number')">7</span>
                <span @click="operation(8, 'number')">8</span>
                <span @click="operation(9, 'number')">9</span>
                <span @click="operation('÷', 'operation')">÷</span>
            </div>
            <div class="line">
                <span @click="operation(4, 'number')">4</span>
                <span @click="operation(5, 'number')">5</span>
                <span @click="operation(6, 'number')">6</span>
                <span @click="operation('×', 'operation')">×</span>
            </div>
            <div class="line">
                <span @click="operation(1, 'number')">1</span>
                <span @click="operation(2, 'number')">2</span>
                <span @click="operation(3, 'number')">3</span>
                <span @click="operation('-', 'operation')">-</span>
            </div>
            <div class="line">
                <span @click="operation(0, 'number')">0</span>
                <span @click="operation('.', 'number')">.</span>
                <span @click="operation('(=', 'result')">=</span>
                <span @click="operation('+', 'operation')">+</span>
            </div>
        </div>
    </section>

    <!-- build:js -->
    <script type="text/javascript" src="./bower_modules/jquery/dist/jquery.js"></script>
    <script type="text/javascript" src="./bower_modules/underscore/underscore.js"></script>
    <script type="text/javascript" src="./bower_modules/vue/dist/vue.js"></script>
    <!-- endbuild -->
    <script type="text/javascript">
        $(function() {
            $('html').css('fontSize', (document.body.offsetWidth * 6 / 750) + 'px');
            var vm = new Vue({
                el: '#app',
                data: {
                    jiu: [1, 2, 3, 4, 5, 6, 7, 9],
                    calculatorObj: {
                        operationSentence: '',
                        result: 0
                    }
                },
                methods: {
                    operation(value, symbol) {
                        if (value == 'AC') {
                            this.calculatorObj.operationSentence = '';
                        } else if (value == '=') {

                        } else {
                            if (this.canInput(this.calculatorObj.operationSentence, value)){
                                this.calculatorObj.operationSentence += value;
                                console.log(this.calculatorObj.operationSentence);
                            } else {
                                alert('error');
                            }
                        }
                    },
                    canInput(symbol, sentence) {
                        console.log(symbol);
                        console.log(sentence);
                        return true;
                    }
                },
                ready: function() {

                },
                created: function() {

                },
                watch: {

                }
            });
        });
    </script>
</body>

</html>
